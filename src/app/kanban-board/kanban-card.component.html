<mat-card class="kanban-task-card" [ngClass]="card.status">
    <mat-card-header>
        <mat-card-title>{{ card.title }}</mat-card-title>
        <mat-card-subtitle>Client: {{ card.client || '-' }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        @if (card.tags?.length) {
        <div class="tag-list">
            @for (tag of card.tags; track tag) {
            <span class="tag-pill">{{ tag }}</span>
            }
        </div>
        }
        <div class="card-footer">
            <span class="footer-item"><mat-icon>comment</mat-icon> {{ card.comments?.length || 0 }}</span>
            <span class="footer-item"><mat-icon>percent</mat-icon> {{ card.percent || '50%' }}</span>
            <span class="footer-item"><mat-icon>visibility</mat-icon> {{ card.views || 2 }}</span>
            <span class="footer-item"><mat-icon>schedule</mat-icon> {{ card.days || '4d' }}</span>
        </div>
    </mat-card-content>
    <mat-card-actions align="end">
        <button mat-stroked-button color="primary" class="view-diff-btn" (click)="viewDiff.emit()">View Diff</button>
    </mat-card-actions>
</mat-card>